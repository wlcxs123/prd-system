# 问卷数据管理系统环境变量配置
# 复制此文件为 .env 并根据实际环境修改配置

# ================================
# 基本配置
# ================================

# Flask 环境
FLASK_ENV=production
FLASK_APP=app.py

# 安全密钥（必须修改为随机字符串）
SECRET_KEY=your-super-secret-key-change-this-in-production

# 服务器配置
SERVER_NAME=your-domain.com
PORT=8081

# ================================
# 数据库配置
# ================================

# SQLite 数据库路径
DATABASE_PATH=/app/data/questionnaires.db

# PostgreSQL 配置（可选）
# DATABASE_URL=postgresql://username:password@localhost:5432/questionnaire
# POSTGRES_DB=questionnaire
# POSTGRES_USER=questionnaire
# POSTGRES_PASSWORD=your-postgres-password

# ================================
# 安全配置
# ================================

# CORS 允许的源（多个用逗号分隔）
CORS_ORIGINS=https://your-domain.com,https://www.your-domain.com

# 管理员密码
ADMIN_PASSWORD=your-admin-password

# 会话配置
SESSION_TYPE=filesystem
SESSION_PERMANENT=false
SESSION_USE_SIGNER=true
SESSION_KEY_PREFIX=questionnaire:

# Redis 会话存储（可选）
# SESSION_TYPE=redis
# SESSION_REDIS_URL=redis://localhost:6379/0

# ================================
# 日志配置
# ================================

# 日志级别 (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=/app/logs/app.log

# 日志轮转配置
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# ================================
# 监控配置
# ================================

# 启用监控
ENABLE_MONITORING=true

# 健康检查配置
HEALTH_CHECK_ENABLED=true

# Sentry 错误监控（可选）
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ================================
# 备份配置
# ================================

# 启用自动备份
BACKUP_ENABLED=true

# 备份间隔（小时）
BACKUP_INTERVAL_HOURS=24

# 备份保留天数
BACKUP_RETENTION_DAYS=30

# 备份存储路径
BACKUP_PATH=/app/backups

# ================================
# 邮件配置（可选）
# ================================

# SMTP 服务器配置
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USE_TLS=true
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-email-password
# MAIL_DEFAULT_SENDER=your-email@gmail.com

# ================================
# 限流配置（可选）
# ================================

# 启用限流
# RATELIMIT_ENABLED=true
# RATELIMIT_STORAGE_URL=redis://localhost:6379/1

# API 限流规则
# RATELIMIT_DEFAULT=100 per hour
# RATELIMIT_LOGIN=5 per minute

# ================================
# SSL/TLS 配置
# ================================

# SSL 证书路径
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ================================
# 性能配置
# ================================

# Gunicorn 工作进程数
WORKERS=4

# 工作进程类型
WORKER_CLASS=sync

# 连接超时
TIMEOUT=120

# 保持连接时间
KEEPALIVE=2

# 最大请求数
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100